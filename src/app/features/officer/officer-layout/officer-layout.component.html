  <!--nav bar starts-->
<nav class="navbar navbar-expand-lg fixed-top" style="background: linear-gradient(90deg, #7c3aed, #6d28d9); box-shadow: 0 6px 25px rgba(124, 58, 237, 0.35); padding: 0.6rem 1rem;" role="navigation" aria-label="Primary">
  <div class="container-fluid">
    <!-- Brand/Logo -->
    <a class="navbar-brand d-flex align-items-center gap-2" style="cursor: pointer; color: #ffffff; font-weight: 700;">
      <svg xmlns="http://www.w3.org/2000/svg"
        width="40"
        height="40"
        class="bi bi-bank me-2 bank-logo"
        viewBox="0 0 16 16"
        aria-hidden="true">
        <path fill="#ffffff"
        d="M8 .95l6.364 3.182v1.09H1.636v-1.09L8 .95zm0 1.09L2.636 5.223h10.728L8 2.04zM1 6h14v1H1V6zm1 2h1v6H2V8zm2 0h1v6H4V8zm2 0h1v6H6V8zm2 0h1v6H8V8zm2 0h1v6h-1V8zm2 0h1v6h-1V8zm2 0h1v6h-1V8z">
        </path>
      </svg>
      <span style="display: none;" class="d-md-inline">MyBank</span>
    </a>

    <!-- Navbar Toggler for Mobile -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar Content -->
    <div class="collapse navbar-collapse" id="navbarNav">
    <!-- Nav Items -->
      <div class="nav-items d-flex gap-3 ms-auto me-4 navbar-nav">
        <button 
          class="btn btn-glass nav-button"
          [class.active]="activeSection === 'dashboard'"
          routerLink="/officer/dashboard"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          (click)="handleNavigation('dashboard')">
          Dashboard
        </button>
        <button 
          class="btn btn-glass nav-button"
          [class.active]="activeSection === 'create'"
          routerLink="/officer/create"
          routerLinkActive="active"
          (click)="handleNavigation('create')">
          Create
        </button>
        <button 
          class="btn btn-glass nav-button"
          [class.active]="activeSection === 'update'"
          routerLink="/officer/update"
          routerLinkActive="active"
          (click)="handleNavigation('update')">
          Update
        </button>
        <button 
          class="btn btn-glass nav-button"
          [class.active]="activeSection === 'alerts'"
          routerLink="/officer/alerts"
          routerLinkActive="active"
          (click)="handleNavigation('alerts')">
          Alerts
          <span *ngIf="(unreadCount$ | async) as u" class="badge badge-gradient" [hidden]="!u || u===0">{{ u }}</span>
        </button>
        <button 
          class="btn btn-glass nav-button"
          [class.active]="activeSection === 'history'"
          routerLink="/officer/history"
          routerLinkActive="active"
          (click)="handleNavigation('history')">
          High Value
        </button>
      </div>

      <!-- Profile Section -->
      <div class="profile-section position-relative ms-3" *ngIf="currentUser">
        <button class="btn btn-light btn-circle profile-btn" style="width: 50px; height: 50px; font-weight: 700; padding: 0;" (click)="toggleProfileMenu()" 
          title="Profile" type="button" id="headerProfileDropdown" aria-expanded="false">
          <span class="initials">{{ initials(currentUser.name) }}</span>
        </button>

        <!-- Profile Dropdown -->
        <div *ngIf="isProfileMenuOpen" class="dropdown-menu show animate-slideDown p-0 profile-dropdown" style="right: 0; left: auto; width: 320px; top: 70px;">
          <!-- Profile Header -->
          <div class="card-gradient-header p-3 d-flex gap-3 border-0">
            <div class="btn btn-light btn-circle flex-center flex-shrink-0" style="width: 60px; height: 60px; font-weight: 700; padding: 0;">
              <span class="initials">{{ initials(currentUser.name) }}</span>
            </div>
            <div class="flex-grow-1">
              <div class="profile-name text-white fw-bold mb-1">{{ currentUser.name }}</div>
              <div class="profile-designation" style="color: rgba(255, 255, 255, 0.85); font-size: 13px;">{{ currentUser.role }}</div>
            </div>
          </div>

          <div class="dropdown-divider m-0"></div>

          <!-- Dropdown Items -->
          <button class="dropdown-item" type="button" (click)="selectUser(currentUser!); openProfile()">
            <span class="item-icon">ðŸ‘¤</span>
            <span>View Profile</span>
          </button>
          <button class="dropdown-item border-top" type="button" (click)="logout($event)">
            <span class="item-icon">ðŸšª</span>
            <span>Logout</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</nav>
<!-- nav-bar ends -->
 
<section class="container" [class.officer-main]="!isDashboard">
  <!-- Global Alert -->
  <div *ngIf="(alert$ | async) as alert"
       class="console-alert"
       [class.is-success]="alert.type === 'success'"
       [class.is-error]="alert.type === 'error'"
       role="alert"
       aria-live="assertive">
    <div class="alert-left">
      <span class="alert-icon" aria-hidden="true">
        <!-- Success icon -->
        <svg *ngIf="alert.type === 'success'" viewBox="0 0 24 24" width="18" height="18">
          <path fill="currentColor" d="M9 16.2l-3.5-3.6L4 14l5 5 11-11-1.5-1.6z"></path>
        </svg>
        <!-- Error icon -->
        <svg *ngIf="alert.type === 'error'" viewBox="0 0 24 24" width="18" height="18">
          <path fill="currentColor" d="M12 2L1 21h22L12 2zm1 15h-2v-2h2v2zm0-4h-2V8h2v5z"/>
        </svg>
      </span>
      <span class="alert-text">{{ alert.message }}</span>
    </div>
    <button class="alert-close" (click)="clearAlert()" aria-label="Close alert">âœ•</button>
    <div class="alert-progress" aria-hidden="true"></div>
  </div>

  <!-- Routed feature views based on active section -->
  <div [ngSwitch]="activeSection">
    <router-outlet></router-outlet>
  </div>
</section>
 
<!-- Use manager-like profile component for officer -->
<app-profile *ngIf="showProfile" (close)="closeProfile()"></app-profile>
 
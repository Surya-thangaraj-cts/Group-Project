<div class="auth-wrapper container-fluid min-vh-100 d-flex flex-column">

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg glass-header px-3 py-2 my-3 rounded-4">
    <div class="d-flex align-items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40"
           class="bi bi-bank me-2 bank-icon" viewBox="0 0 16 16">
        <path d="M8 .95l6.364 3.182v1.09H1.636v-1.09L8 .95zm0 1.09L2.636 5.223h10.728L8 2.04zM1 6h14v1H1V6zm1 2h1v6H2V8zm2 0h1v6H4V8zm2 0h1v6H6V8zm2 0h1v6H8V8zm2 0h1v6h-1V8zm2 0h1v6h-1V8z"/>
      </svg>
      <span class="fw-bold fs-4 app-title">MyBank</span>
    </div>

    <div class="ms-auto d-flex gap-3">
      <button class="btn btn-secondary-gradient" (click)="toggleForm('signin')">Sign In</button>
      <button class="btn btn-secondary-gradient" (click)="toggleForm('register')">Register</button>
    </div>
  </nav>


  <!-- Main Split -->
  <div class="container my-3 my-md-4 flex-grow-1 d-flex align-items-center">
    <div class="rounded-4 shadow-lg overflow-hidden w-100 auth-container">

      <div class="row g-0">

        <!-- LEFT PANEL (Hero) -->
        <div class="col-12 col-lg-6 left-hero position-relative">
          <img src="../../assets/bg.png" alt="img" class="hero-image">
          <div class="hero-overlay"></div>

          <div class="hero-content">
            <h1 [class.fade]="fade">{{ currentMessage }}</h1>
            <p>
              A secure and efficient internal customer account management system for branches,
              managers, and officersâ€”simplifying your banking operations.
            </p>
          </div>
        </div>


        <!-- RIGHT PANEL (Forms) -->
        <div class="col-12 col-lg-6 d-flex auth-right-bg">
          <div class="auth-panel mx-auto w-100">

            <div class="title text-center mb-4">
              <h1 class="auth-heading">Welcome</h1>
            </div>

            <!-- SIGN IN -->
            <form *ngIf="showForm !== 'register'" [formGroup]="signinForm" (ngSubmit)="signin()" novalidate>

              <div class="mb-3">
                <label class="form-label">User ID</label>
                <input type="text" class="form-control form-control-lg"
                       placeholder="Enter your user ID"
                       formControlName="userId">
              </div>

              <div class="mb-3">
                <label class="form-label">Password</label>
                <input type="password" class="form-control form-control-lg"
                       placeholder="Enter your password"
                       formControlName="password">
              </div>

              <button type="submit" class="btn btn-primary-gradient btn-lg w-100"
                      [disabled]="signinForm.invalid">
                Login
              </button>
            </form>


            <!-- REGISTER -->
            <form *ngIf="showForm === 'register'" [formGroup]="signupForm" (ngSubmit)="signup()" novalidate>

              <div class="mb-3">
                <label class="form-label">Name</label>
                <input type="text" class="form-control form-control-lg" formControlName="name">
              </div>

              <div class="mb-3">
                <label class="form-label">User ID</label>
                <input type="text" class="form-control form-control-lg" formControlName="userId">
              </div>

              <div class="mb-3">
                <label class="form-label">Email</label>
                <input type="email" class="form-control form-control-lg" formControlName="email">
              </div>

              <div class="mb-3">
                <label class="form-label">Branch</label>
                <input type="text" class="form-control form-control-lg" formControlName="branch">
              </div>

              <div class="mb-3">
                <label class="form-label">Role</label>
                <select class="form-select form-select-lg" formControlName="role">
                  <option value="" disabled>Select Role</option>
                  <option value="admin">Admin</option>
                  <option value="bankManager">Bank Manager</option>
                  <option value="bankOfficer">Bank Officer</option>
                </select>
              </div>

              <div class="mb-3">
                <label class="form-label">Password</label>
                <input type="password" class="form-control form-control-lg"
                       formControlName="password">
              </div>

              <div class="mb-3">
                <label class="form-label">Confirm Password</label>
                <input type="password" class="form-control form-control-lg"
                       formControlName="confirmPassword">
              </div>

              <button type="submit" class="btn btn-primary-gradient btn-lg w-100"
                      [disabled]="signupForm.invalid">
                Register
              </button>
            </form>

          </div>
        </div>

      </div>
    </div>
  </div>

</div>
<div class="auth-wrapper min-vh-100 d-flex flex-column">
  <!-- Navbar (edge-to-edge) -->
  <nav class="navbar app-navbar">
    <div class="brand">
      <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40"
           class="bi bi-bank me-2" viewBox="0 0 16 16" fill="white" aria-hidden="true">
        <path d="M8 .95l6.364 3.182v1.09H1.636v-1.09L8 .95zm0 1.09L2.636 5.223h10.728L8 2.04zM1 6h14v1H1V6zm1 2h1v6H2V8zm2 0h1v6H4V8zm2 0h1v6H6V8zm2 0h1v6H8V8zm2 0h1v6h-1V8zm2 0h1v6h-1V8z"></path>
      </svg>
      <span class="fw-bold logo-text">MyBank</span>
    </div>

    <div class="nav-actions">
      <a routerLink="/" class="btn btn-light">‚Üê Back Home</a>
    </div>
  </nav>

  <!-- Main Container (you can keep Bootstrap here) -->
  <div class="container my-3 my-md-4 flex-grow-1 d-flex align-items-center">
    <div class="rounded-4 shadow-lg overflow-hidden w-100">
      <div class="row g-0">
        <!-- LEFT: Image -->
        <div class="col-12 col-lg-6 auth-layout">
          <div class="hero-panel">
            <img src="../../assets/bg.png" alt="Banking" class="left-img">
            <div class="hero-overlay"></div>
            <div class="hero-content">
              <h1 class="display-5 fw-bold mb-2">Get Started</h1>
              <p class="lead">Create your account and join our banking platform</p>
            </div>
          </div>
        </div>

        <!-- RIGHT: Form -->
        <div class="col-12 col-lg-6 d-flex">
          <div class="auth-panel mx-auto w-100">
            <div class="title">
              <h1>Register</h1>
              <p class="text-muted">Fill in your details to create an account</p>
            </div>

            <!-- Alert Message -->
            <div
              *ngIf="showMessage && message"
              [ngClass]="{
                'alert alert-success': messageType === 'success',
                'alert alert-danger': messageType === 'error',
                'alert alert-warning': messageType === 'warning'
              }"
              role="alert"
              class="mb-3">
              <div class="d-flex justify-content-between align-items-center">
                <span>{{ message }}</span>
                <button type="button" class="btn-close" (click)="clearMessage()" aria-label="Close"></button>
              </div>
            </div>

            <!-- Register Form -->
            <form [formGroup]="signupForm" (ngSubmit)="signup()" novalidate>
              <div class="mb-3">
                <label class="form-label">Name</label>
                <input type="text" class="form-control form-control-lg" formControlName="name" placeholder="Your full name" />
              </div>

              <div class="mb-3">
                <label class="form-label">User ID</label>
                <input type="text" class="form-control form-control-lg" formControlName="userId" placeholder="Choose a user ID" autocomplete="username" />
              </div>

              <div class="mb-3">
                <label class="form-label">Email</label>
                <input type="email" class="form-control form-control-lg" formControlName="email" placeholder="your.email@bank.com" autocomplete="email" />
              </div>

              <div class="mb-3">
                <label class="form-label">Branch</label>
                <input type="text" class="form-control form-control-lg" formControlName="branch" placeholder="Branch name or code" />
              </div>

              <div class="mb-3">
                <label class="form-label">Role</label>
                <select class="form-select form-select-lg" formControlName="role">
                  <option value="" disabled>Select Role</option>
                  <option value="admin">Admin</option>
                  <option value="bankManager">Bank Manager</option>
                  <option value="bankOfficer">Bank Officer</option>
                </select>
              </div>

              <div class="mb-3">
                <label class="form-label">Password</label>
                <div class="password-input-group">
                  <input
                    [type]="showSignupPassword ? 'text' : 'password'"
                    class="form-control form-control-lg"
                    formControlName="password"
                    placeholder="Create a password"
                    autocomplete="new-password"
                  />
                  <button
                    type="button"
                    class="password-toggle-btn"
                    (click)="toggleSignupPassword()"
                    aria-label="Toggle password visibility">
                    <svg *ngIf="!showSignupPassword" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393Z"/>
                    </svg>
                    <svg *ngIf="showSignupPassword" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393Z"/>
                    </svg>
                  </button>
                </div>
                <small class="text-muted d-block mt-1">Min 8 chars, include letters &amp; numbers.</small>

                <div class="text-danger mt-1" *ngIf="signupForm.get('password')?.touched && signupForm.get('password')?.errors">
                  <div *ngIf="signupForm.get('password')?.errors?.['required']">Password is required.</div>
                  <div *ngIf="signupForm.get('password')?.errors?.['minlength']">Minimum 8 characters.</div>
                  <div *ngIf="signupForm.get('password')?.errors?.['pattern']">Include letters and numbers.</div>
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">Confirm Password</label>
                <div class="password-input-group">
                  <input
                    [type]="showConfirmPassword ? 'text' : 'password'"
                    class="form-control form-control-lg"
                    formControlName="confirmPassword"
                    placeholder="Confirm your password"
                    autocomplete="new-password"
                  />
                  <button
                    type="button"
                    class="password-toggle-btn"
                    (click)="toggleConfirmPassword()"
                    aria-label="Toggle password visibility">
                    <svg *ngIf="!showConfirmPassword" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393Z"/>
                    </svg>
                    <svg *ngIf="showConfirmPassword" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393Z"/>
                    </svg>
                  </button>
                </div>

                <div class="text-danger mt-1"
                     *ngIf="
                       signupForm.hasError('passwordMismatch') &&
                       (signupForm.get('confirmPassword')?.touched || signupForm.get('password')?.touched)
                     ">
                  Passwords do not match.
                </div>
              </div>

              <button type="submit" class="btn btn-primary btn-lg w-100" [disabled]="signupForm.invalid">
                Register
              </button>

              <p class="text-center mt-3 text-muted">
                Already have an account?
                <a routerLink="/signin" class="link-primary fw-bold">Sign in here</a>
              </p>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>